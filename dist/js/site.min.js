var site=angular.module("site",["ui.router","firebase"]);site.config(function(e,o){o.otherwise("/"),e.state("home",{url:"/",templateUrl:"views/home.html",controller:"LoginController"}).state("results",{url:"/results",templateUrl:"views/results.html"}).state("profile",{url:"/profile",templateUrl:"views/profile.html"})}),site.controller("siteCtrl",["$scope","$window","$state",function(e,o,n){e.showNavMenu=function(){console.log("toggling menu"),e.showMenu=!e.showMenu},e.isTouch=!!(o.ontouchstart||"ontouchstart"in window||o.navigator.MaxTouchPoints||o.navigator.msMaxTouchPoints),console.log("TOUCH: "+e.isTouch),e.isTouch=!0;var t=function(){e.$apply(function(){$(window).innerWidth()<720?(e.desk=!1,console.log("mobile"),e.showMenu=!1):(e.desk=!0,console.log("desk"),e.showMenu=!0)})};$(window).resize(t),e.gotoProfile=function(){n.go("")},$(document).ready(function(){t(),e.showSignIn=!1,e.showRegister=!1})}]),site.controller("FirebaseController",["$scope","$firebaseObject",function(e,o){var n=firebase.database().ref(),t=o(n);t.$loaded().then(function(){console.log("loaded record:",t.$id,t.someOtherKeyInData),angular.forEach(t,function(e,o){console.log(o,e)})}),e.firebase=t,t.$bindTo(e,"firebase")}]),site.controller("LoginController",["$scope","$firebaseAuth","$firebaseArray",function(e,o,n){e.login=function(e){o().$signInWithPopup(e).then(function(e){var o=e.user.uid,n=e.user.displayName;console.log("User ID: "+o);var t=firebase.database().ref("users/"+o);t.once("value").then(function(e){if(e.exists())console.log("User already exists");else{var o={displayName:n};t.set(o,function(){console.log("New user "+n+" added")})}})})["catch"](function(e){console.error("Authentication failed:",e)})}}]);